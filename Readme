# Doctor Appointment Scheduler ๐ฉบ  

A **Doctor Appointment Scheduler** built with the **MERN stack**, following **Clean Architecture** and **SOLID principles**, designed for scalability and performance.  

## ๐ Features  
- ๐ **JWT Authentication** for secure user access  
- ๐ **Slot Booking & Slot Blocking** powered by **Redis** (prevents double booking)  
- ๐ฉ **OTP Generation & Caching** using Redis  
- ๐ณ **Dockerized Setup** with `docker-compose up` for easy deployment  
- โก **Axios Interceptors** for API request handling  
- ๐ **CI/CD Pipeline** with GitHub Actions  
- ๐ Prepared for **Recurring Slot Scheduling** using `rrule` (future-ready)  

## ๐ Tech Stack  
- **Backend:** Node.js, Express.js, MongoDB, Mongoose  
- **Frontend:** React (if connected)  
- **Cache & Locking:** Redis  
- **Containerization:** Docker, Docker Compose  
- **CI/CD:** GitHub Actions  

## ๐ฆ Getting Started  

### 1. Clone the repository  
```bash
git clone https://github.com/Aswinx46/Machine-task-amrutam.git
cd Machine-task-amrutam

2. Setup environment variables

Create a .env file and add:

MONGO_URI=your_mongo_connection_string
REDIS_URL=your_redis_url
JWT_SECRET=your_jwt_secret
PORT=5000


3. Run with Docker
docker-compose up --build


4. Without Docker (local run)
npm install
npm run dev


5. Project Structure

                       g:/Machine Task Amrutam/
โโโ .github/
โ   โโโ workflows/
โ       โโโ backendPipeline.yml
โโโ Backend/
โ   โโโ .DockerIgnore
โ   โโ] .env (ignored)
โ   โโโ .gitignore
โ   โโโ docker-compose.yaml
โ   โโโ Dockerfile
โ   โโโ eslint.config.mjs
โ   โโ] node_modules/ (ignored)
โ   โโโ package-lock.json
โ   โโโ package.json
โ   โโโ SCALING.md
โ   โโโ src/
โ   โ   โโโ adapters/
โ   โ   โ   โโโ controllers/
โ   โ   โ   โ   โโโ authentication/
โ   โ   โ   โ   โ   โโโ doctorAuthentication/
โ   โ   โ   โ   โ   โ   โโโ loginDoctorController.ts
โ   โ   โ   โ   โ   โ   โโโ signUpDoctorController.ts
โ   โ   โ   โ   โ   โโโ sendOtpAndRefreshToken/
โ   โ   โ   โ   โ   โ   โโโ refreshTokenController.ts
โ   โ   โ   โ   โ   โ   โโโ sendOtpController.ts
โ   โ   โ   โ   โ   โ   โโโ userLogoutController.ts
โ   โ   โ   โ   โ   โโโ userAuthentication/
โ   โ   โ   โ   โ       โโโ login/
โ   โ   โ   โ   โ       โ   โโโ userLoginController.ts
โ   โ   โ   โ   โ       โโโ signup/
โ   โ   โ   โ   โ           โโโ SignupController.ts
โ   โ   โ   โ   โโโ doctor/
โ   โ   โ   โ   โ   โโโ bookings/
โ   โ   โ   โ   โ   โ   โโโ findBookingsOfDoctorController.ts
โ   โ   โ   โ   โ   โโโ slot/
โ   โ   โ   โ   โ       โโโ findSlotsOfADoctorController.ts
โ   โ   โ   โ   โ       โโโ slotCreationController.ts
โ   โ   โ   โ   โโโ user/
โ   โ   โ   โ       โโโ bookings/
โ   โ   โ   โ       โ   โโโ cancelOrRescheduleBookingByUserController.ts
โ   โ   โ   โ       โ   โโโ findBookingsOfUserController.ts
โ   โ   โ   โ       โโโ slot/
โ   โ   โ   โ           โโโ findSlotDetailsController.ts
โ   โ   โ   โ           โโโ findSlotsController.ts
โ   โ   โ   โ           โโโ slotCreationController.ts
โ   โ   โ   โโโ middlewares/
โ   โ   โ   โ   โโโ roleBasedAuthentication/
โ   โ   โ   โ   โ   โโโ roleBasedAuthenticationMiddleware.ts
โ   โ   โ   โ   โโโ tokenValidation/
โ   โ   โ   โ       โโโ tokenBlackListingValidation.ts
โ   โ   โ   โ       โโโ tokenExpiryValidation.ts
โ   โ   โ   โโโ repository/
โ   โ   โ       โโโ availabilityRepository/
โ   โ   โ       โ   โโโ slorRepository.ts
โ   โ   โ       โโโ bookingRepository/
โ   โ   โ       โ   โโโ bookingRepository.ts
โ   โ   โ       โโโ doctorRepository/
โ   โ   โ       โ   โโโ doctorRepository.ts
โ   โ   โ       โโโ userRepository/
โ   โ   โ           โโโ userRepository.ts
โ   โ   โโโ app.ts
โ   โ   โโโ domain/
โ   โ   โ   โโโ entity/
โ   โ   โ   โ   โโโ doctor/
โ   โ   โ   โ   โ   โโโ bookingDTO.ts
โ   โ   โ   โ   โ   โโโ bookingEntity.ts
โ   โ   โ   โ   โ   โโโ doctorDTO.ts
โ   โ   โ   โ   โ   โโโ doctorEntity.ts
โ   โ   โ   โ   โ   โโโ slotDTO.ts
โ   โ   โ   โ   โ   โโโ slotEntity.ts
โ   โ   โ   โ   โโโ user/
โ   โ   โ   โ       โโโ userDTO.ts
โ   โ   โ   โ       โโโ userEntity.ts
โ   โ   โ   โโโ interface/
โ   โ   โ       โโโ repositoryInterfaces/
โ   โ   โ       โ   โโโ bookingRepositoryInterface.ts
โ   โ   โ       โ   โโโ doctorRepositoryInterface.ts
โ   โ   โ       โ   โโโ slotRepositoryInterface.ts
โ   โ   โ       โ   โโโ userRepositoryInterface.ts
โ   โ   โ       โโโ serviceInterfaces/
โ   โ   โ       โ   โโโ emailServiceInterface.ts
โ   โ   โ       โ   โโโ hashPasswordInterface.ts
โ   โ   โ       โ   โโโ jwtServiceInterface.ts
โ   โ   โ       โ   โโโ otpServiceInterface.ts
โ   โ   โ       โ   โโโ redisServiceInterface.ts
โ   โ   โ       โ   โโโ tokenService.ts
โ   โ   โ       โโโ useCaseInterfaces/
โ   โ   โ           โโโ Authentication/
โ   โ   โ           โ   โโโ refreshTokenUseCaseInterface.ts
โ   โ   โ           โ   โโโ sendOtpUseCaseInterface.ts
โ   โ   โ           โ   โโโ userLogoutUseCaseInterface.ts
โ   โ   โ           โโโ Client/
โ   โ   โ           โ   โโโ bookings/
โ   โ   โ           โ   โ   โโโ cancelOrRescheduleBookingUseCaseInterface.ts
โ   โ   โ           โ   โ   โโโ findBookingsOfUserUseCaseInterface.ts
โ   โ   โ           โ   โโโ slots/
โ   โ   โ           โ   โ   โโโ bookSlotUseCaseInterface.ts
โ   โ   โ           โ   โ   โโโ findDetailsOfASlotInterface.ts
โ   โ   โ           โ   โ   โโโ findSlotsOfADoctorUseCaseInterface.ts
โ   โ   โ           โ   โ   โโโ findSlotsUseCaseInterface.ts
โ   โ   โ           โ   โโโ userAuthentication/
โ   โ   โ           โ       โโโ loginUserUseCaseInterface.ts
โ   โ   โ           โ       โโโ signupOtpUseCaseInterface.ts
โ   โ   โ           โโโ doctor/
โ   โ   โ               โโโ bookings/
โ   โ   โ               โ   โโโ findBookingsOfDoctorUseCaseInterface.ts
โ   โ   โ               โโโ doctorAuthentication/
โ   โ   โ               โ   โโโ doctorLoginUseCaseInterface.ts
โ   โ   โ               โ   โโโ doctorSignupUseCaseInterface.ts
โ   โ   โ               โโโ slotCreations/
โ   โ   โ                   โโโ findSlotsOfADoctorUseCaseInterface.ts
โ   โ   โ                   โโโ slotCreationsUseCaseInterface.ts
โ   โ   โโโ framework/
โ   โ   โ   โโโ constants/
โ   โ   โ   โ   โโโ doctorQualification.ts
โ   โ   โ   โ   โโโ doctorSpecialization.ts
โ   โ   โ   โ   โโโ errorMessages.ts
โ   โ   โ   โ   โโโ httpStatusCode.ts
โ   โ   โ   โโโ database/
โ   โ   โ   โ   โโโ dbConnection/
โ   โ   โ   โ   โ   โโโ dbConnection.ts
โ   โ   โ   โ   โโโ models/
โ   โ   โ   โ   โ   โโโ bookingModel.ts
โ   โ   โ   โ   โ   โโโ doctorModel.ts
โ   โ   โ   โ   โ   โโโ slotModel.ts
โ   โ   โ   โ   โ   โโโ userModel.ts
โ   โ   โ   โ   โโโ schema/
โ   โ   โ   โ       โโโ bookingSchema.ts
โ   โ   โ   โ       โโโ doctorSchema.ts
โ   โ   โ   โ       โโโ slotSchema.ts
โ   โ   โ   โ       โโโ userSchema.ts
โ   โ   โ   โโโ DI/
โ   โ   โ   โ   โโโ doctorDI.ts
โ   โ   โ   โ   โโโ middlewareAndRefreshTokenDI.ts
โ   โ   โ   โ   โโโ userDI.ts
โ   โ   โ   โโโ routes/
โ   โ   โ   โ   โโโ auth/
โ   โ   โ   โ   โ   โโโ authRouter.ts
โ   โ   โ   โ   โโโ doctor/
โ   โ   โ   โ   โ   โโโ doctorRoute.ts
โ   โ   โ   โ   โโโ user/
โ   โ   โ   โ       โโโ userRoute.ts
โ   โ   โ   โโโ services/
โ   โ   โ   โ   โโโ emailService.ts
โ   โ   โ   โ   โโโ hashPassword.ts
โ   โ   โ   โ   โโโ jwtService.ts
โ   โ   โ   โ   โโโ otpService.ts
โ   โ   โ   โ   โโโ redisService.ts
โ   โ   โ   โ   โโโ setTokenInCookie.ts
โ   โ   โ   โ   โโโ tokenService.ts
โ   โ   โ   โโโ validator/
โ   โ   โ       โโโ doctor/
โ   โ   โ       โ   โโโ signupDoctorValidator.ts
โ   โ   โ       โ   โโโ slotCreationValidator.ts
โ   โ   โ       โโโ user/
โ   โ   โ           โโโ bookingValidator.ts
โ   โ   โ           โโโ loginValidator.ts
โ   โ   โ           โโโ signupValidator.ts
โ   โ   โโโ templates/
โ   โ   โ   โโโ otpTemplate.ts
โ   โ   โโโ useCases/
โ   โ       โโโ Authentication/
โ   โ       โ   โโโ refreshTokenUseCase.ts
โ   โ       โ   โโโ sendOtpUseCase.ts
โ   โ       โ   โโโ userLogoutUseCase.ts
โ   โ       โโโ doctors/
โ   โ       โ   โโโ bookings/
โ   โ       โ   โ   โโโ findBookingsForDoctorUseCase.ts
โ   โ       โ   โโโ doctorAuthentication/
โ   โ       โ   โ   โโโ loginDoctorUseCase.ts
โ   โ       โ   โ   โโโ signupUseCase.ts
โ   โ       โ   โโโ slot/
โ   โ       โ       โโโ findSlotsOfADoctorUseCase.ts
โ   โ       โ       โโโ slotCreationUseCase.ts
โ   โ       โโโ mappers/
โ   โ       โ   โโโ bookings/
โ   โ       โ   โ   โโโ bookingMapper.ts
โ   โ       โ   โโโ doctor/
โ   โ       โ   โ   โโโ doctorMapper.ts
โ   โ       โ   โ   โโโ slotMapper.ts
โ   โ       โ   โโโ user/
โ   โ       โ       โโโ slotMapper.ts
โ   โ       โ       โโโ userMapper.ts
โ   โ       โโโ users/
โ   โ           โโโ bookings/
โ   โ           โ   โโโ cancelOrRescheduleBookingUseCase.ts
โ   โ           โ   โโโ findBookingsOfUserUseCase.ts
โ   โ           โโโ slotOperations/
โ   โ           โ   โโโ bookSlotUseCase.ts
โ   โ           โ   โโโ findDetailsOfASlot.ts
โ   โ           โ   โโโ findSlotsOfADoctorUseCase.ts
โ   โ           โ   โโโ findSlotsUseCase.ts
โ   โ           โโโ userAuthentication/
โ   โ               โโโ signupUserUseCase.ts
โ   โ               โโโ userLoginUseCase.ts
โ   โโโ tsconfig.json
โโโ Frontend/
    โโ] .env (ignored)
    โโโ .gitignore
    โโโ components.json
    โโโ eslint.config.js
    โโโ index.html
    โโ] node_modules/ (ignored)
    โโโ package-lock.json
    โโโ package.json
    โโโ public/
    โ   โโโ vite.svg
    โโโ README.md
    โโโ src/
    โ   โโโ App.css
    โ   โโโ App.tsx
    โ   โโโ assets/
    โ   โ   โโโ react.svg
    โ   โโโ axios/
    โ   โ   โโโ authAxios.ts
    โ   โ   โโโ doctorAxiosInstance.ts
    โ   โ   โโโ userAxiosInstance.ts
    โ   โโโ components/
    โ   โ   โโโ LoadingSpinner.tsx
    โ   โ   โโโ OtpModal.tsx
    โ   โ   โโโ Pagination.tsx
    โ   โ   โโโ protectedRoute/
    โ   โ   โ   โโโ ProtectedRouteDoctor.tsx
    โ   โ   โ   โโโ ProtectedRouteUser.tsx
    โ   โ   โโโ slots/
    โ   โ   โ   โโโ SlotCard.tsx
    โ   โ   โ   โโโ SlotManager.tsx
    โ   โ   โโโ ui/
    โ   โ       โโโ alert.tsx
    โ   โ       โโโ badge.tsx
    โ   โ       โโโ button.tsx
    โ   โ       โโโ calendar.tsx
    โ   โ       โโโ card.tsx
    โ   โ       โโโ checkbox.tsx
    โ   โ       โโโ dialog.tsx
    โ   โ       โโโ input.tsx
    โ   โ       โโโ label.tsx
    โ   โ       โโโ popover.tsx
    โ   โ       โโโ select.tsx
    โ   โ       โโโ slider.tsx
    โ   โ       โโโ sonner.tsx
    โ   โ       โโโ tabs.tsx
    โ   โ       โโโ textarea.tsx
    โ   โโโ errorBoundary/
    โ   โ   โโโ ErrorBoundary.tsx
    โ   โโโ features/
    โ   โ   โโโ doctor/
    โ   โ   โ   โโโ auth/
    โ   โ   โ   โ   โโโ component/
    โ   โ   โ   โ   โ   โโโ forms/
    โ   โ   โ   โ   โ       โโโ FormProgress.tsx
    โ   โ   โ   โ   โ       โโโ LoginForm.tsx
    โ   โ   โ   โ   โ       โโโ SignupFormDoctor.tsx
    โ   โ   โ   โ   โ       โโโ steps/
    โ   โ   โ   โ   โ           โโโ DocumentReviewStep.tsx
    โ   โ   โ   โ   โ           โโโ PersonalInfoStep.tsx
    โ   โ   โ   โ   โ           โโโ PracticeInfoStep.tsx
    โ   โ   โ   โ   โ           โโโ ProfessionalDetailsStep.tsx
    โ   โ   โ   โ   โโโ hooks/
    โ   โ   โ   โ   โ   โโโ doctorAuthenticationHooks.ts
    โ   โ   โ   โ   โโโ interfaces/
    โ   โ   โ   โ   โ   โโโ DoctorSignupEntity.ts
    โ   โ   โ   โ   โโโ pages/
    โ   โ   โ   โ   โ   โโโ DoctorLogin.tsx
    โ   โ   โ   โ   โ   โโโ DoctorSignup.tsx
    โ   โ   โ   โ   โโโ services/
    โ   โ   โ   โ       โโโ doctorAuthenticationService.ts
    โ   โ   โ   โโโ slot/
    โ   โ   โ       โโโ component/
    โ   โ   โ       โ   โโโ BookingCard.tsx
    โ   โ   โ       โ   โโโ BookingFilters.tsx
    โ   โ   โ       โ   โโโ CreateSlotModal.tsx
    โ   โ   โ       โ   โโโ DoctorHeader.tsx
    โ   โ   โ       โ   โโโ EditSlotModal.tsx
    โ   โ   โ       โ   โโโ TimePicker.tsx
    โ   โ   โ       โโโ hooks/
    โ   โ   โ       โ   โโโ slotHook.ts
    โ   โ   โ       โโโ interfaces/
    โ   โ   โ       โโโ pages/
    โ   โ   โ       โ   โโโ DoctorHome.tsx
    โ   โ   โ       โ   โโโ SlotListing.tsx
    โ   โ   โ       โโโ services/
    โ   โ   โ       โ   โโโ slotService.ts
    โ   โ   โ       โโโ utils/
    โ   โ   โ           โโโ checkDateConflict.ts
    โ   โ   โโโ user/
    โ   โ       โโโ auth/
    โ   โ       โ   โโโ component/
    โ   โ       โ   โ   โโโ LoginForm.tsx
    โ   โ       โ   โ   โโโ SignupForm.tsx
    โ   โ       โ   โโโ hooks/
    โ   โ       โ   โ   โโโ userAuthenticationHooks.tsx
    โ   โ       โ   โโโ interfaces/
    โ   โ       โ   โ   โโโ loginFormAndPageInterfaces.ts
    โ   โ       โ   โ   โโโ OtpModalInterface.ts
    โ   โ       โ   โ   โโโ signupFormInterfaces.ts
    โ   โ       โ   โโโ pages/
    โ   โ       โ   โ   โโโ LoginPage.tsx
    โ   โ       โ   โ   โโโ SignupPage.tsx
    โ   โ       โ   โโโ services/
    โ   โ       โ       โโโ authenticationService.ts
    โ   โ       โโโ bookingPage/
    โ   โ       โ   โโโ components/
    โ   โ       โ   โ   โโโ BookingDetailsCard.tsx
    โ   โ       โ   โโโ hooks/
    โ   โ       โ   โ   โโโ bookingHooks.ts
    โ   โ       โ   โโโ Pages/
    โ   โ       โ   โ   โโโ BookingDetailsPage.tsx
    โ   โ       โ   โ   โโโ UserBookingDetails.tsx
    โ   โ       โ   โโโ services/
    โ   โ       โ       โโโ bookingService.ts
    โ   โ       โโโ home/
    โ   โ           โโโ hooks/
    โ   โ           โ   โโโ debounceHook.ts
    โ   โ           โ   โโโ userHomeHooks.ts
    โ   โ           โโโ pages/
    โ   โ           โ   โโโ UserHome.tsx
    โ   โ           โโโ services/
    โ   โ               โโโ userHomeServices.ts
    โ   โโโ index.css
    โ   โโโ lib/
    โ   โ   โโโ utils.ts
    โ   โโโ main.tsx
    โ   โโโ reduxstrore/
    โ   โ   โโโ slices/
    โ   โ   โ   โโโ doctorSlice.ts
    โ   โ   โ   โโโ tokenSlice.ts
    โ   โ   โ   โโโ userSlice.ts
    โ   โ   โโโ store.ts
    โ   โโโ routes/
    โ   โ   โโโ doctor/
    โ   โ   โ   โโโ DoctorRoute.tsx
    โ   โ   โโโ user/
    โ   โ       โโโ UserRoute.tsx
    โ   โโโ types/
    โ   โ   โโโ appointment/
    โ   โ   โ   โโโ appointment.ts
    โ   โ   โโโ booking/
    โ   โ   โ   โโโ bookingSlotDetailsType.ts
    โ   โ   โโโ Doctor/
    โ   โ   โ   โโโ DoctorType.ts
    โ   โ   โโโ slots/
    โ   โ   โ   โโโ slotsType.ts
    โ   โ   โโโ user/
    โ   โ       โโโ userType.ts
    โ   โโโ vite-env.d.ts
    โโโ tsconfig.app.json
    โโโ tsconfig.json
    โโโ tsconfig.node.json
    โโโ vite.config.ts

  ๐ Scalability Notes

Uses Redis locks to avoid race conditions in slot booking

Prepared for recurring rules with rrule integration (future feature)

Dockerized for horizontal scaling and easier deployment

CI/CD pipeline ensures smooth updates



                       
